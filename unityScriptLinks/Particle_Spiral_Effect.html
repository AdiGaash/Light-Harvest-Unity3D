<!DOCTYPE html>
<html lang="en" dir="ltr" class="client-nojs">
<head>
<title>Particle Spiral Effect - Unify Community Wiki</title>
<meta charset="UTF-8" />
<meta name="generator" content="MediaWiki 1.19.1" />
<link rel="shortcut icon" href="/favicon.ico" />
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="Unify Community Wiki (en)" />
<link rel="EditURI" type="application/rsd+xml" href="http://wiki.unity3d.com/api.php?action=rsd" />
<link rel="copyright" href="http://creativecommons.org/licenses/by-sa/3.0/" />
<link rel="alternate" type="application/atom+xml" title="Unify Community Wiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom" />
<link rel="stylesheet" href="http://wiki.unity3d.com/load.php?debug=false&amp;lang=en&amp;modules=mediawiki.legacy.commonPrint%2Cshared%7Cskins.vector&amp;only=styles&amp;skin=vector&amp;*" />
<meta name="ResourceLoaderDynamicStyles" content="" />
<link rel="stylesheet" href="http://wiki.unity3d.com/load.php?debug=false&amp;lang=en&amp;modules=site&amp;only=styles&amp;skin=vector&amp;*" />
<style>a:lang(ar),a:lang(ckb),a:lang(fa),a:lang(kk-arab),a:lang(mzn),a:lang(ps),a:lang(ur){text-decoration:none}a.new,#quickbar a.new{color:#ba0000}

/* cache key: mediawiki:resourceloader:filter:minify-css:7:c88e2bcd56513749bec09a7e29cb3ffa */
</style>

<script src="http://wiki.unity3d.com/load.php?debug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=vector&amp;*"></script>
<script>if(window.mw){
mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"Particle_Spiral_Effect","wgTitle":"Particle Spiral Effect","wgCurRevisionId":13044,"wgArticleId":2566,"wgIsArticle":true,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":[],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgRelevantPageName":"Particle_Spiral_Effect","wgRestrictionEdit":[],"wgRestrictionMove":[]});
}</script><script>if(window.mw){
mw.loader.implement("user.options",function($){mw.user.options.set({"ccmeonemails":0,"cols":80,"date":"default","diffonly":0,"disablemail":0,"disablesuggest":0,"editfont":"default","editondblclick":0,"editsection":1,"editsectiononrightclick":0,"enotifminoredits":0,"enotifrevealaddr":0,"enotifusertalkpages":1,"enotifwatchlistpages":0,"extendwatchlist":0,"externaldiff":0,"externaleditor":0,"fancysig":0,"forceeditsummary":0,"gender":"unknown","hideminor":0,"hidepatrolled":0,"highlightbroken":1,"imagesize":2,"justify":0,"math":1,"minordefault":0,"newpageshidepatrolled":0,"nocache":0,"noconvertlink":0,"norollbackdiff":0,"numberheadings":0,"previewonfirst":0,"previewontop":1,"quickbar":5,"rcdays":7,"rclimit":50,"rememberpassword":0,"rows":25,"searchlimit":20,"showhiddencats":0,"showjumplinks":1,"shownumberswatching":1,"showtoc":1,"showtoolbar":1,"skin":"vector","stubthreshold":0,"thumbsize":2,"underline":2,"uselivepreview":0,"usenewrc":0,"watchcreations":0,"watchdefault":0,"watchdeletion":0,
"watchlistdays":3,"watchlisthideanons":0,"watchlisthidebots":0,"watchlisthideliu":0,"watchlisthideminor":0,"watchlisthideown":0,"watchlisthidepatrolled":0,"watchmoves":0,"wllimit":250,"variant":"en","language":"en","searchNs0":true,"searchNs1":false,"searchNs2":false,"searchNs3":false,"searchNs4":false,"searchNs5":false,"searchNs6":false,"searchNs7":false,"searchNs8":false,"searchNs9":false,"searchNs10":false,"searchNs11":false,"searchNs12":false,"searchNs13":false,"searchNs14":false,"searchNs15":false});;},{},{});mw.loader.implement("user.tokens",function($){mw.user.tokens.set({"editToken":"+\\","watchToken":false});;},{},{});

/* cache key: mediawiki:resourceloader:filter:minify-js:7:9983699ab6150ffa89a90653b2338ac8 */
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.page.startup","mediawiki.legacy.wikibits","mediawiki.legacy.ajax"]);
}</script>
<style type="text/css">/*<![CDATA[*/
.source-csharp {line-height: normal;}
.source-csharp li, .source-csharp pre {
	line-height: normal; border: 0px none white;
}
/**
 * GeSHi Dynamically Generated Stylesheet
 * --------------------------------------
 * Dynamically generated stylesheet for csharp
 * CSS class: source-csharp, CSS id: 
 * GeSHi (C) 2004 - 2007 Nigel McNie, 2007 - 2008 Benny Baumann
 * (http://qbnz.com/highlighter/ and http://geshi.org/)
 * --------------------------------------
 */
.csharp.source-csharp .de1, .csharp.source-csharp .de2 {font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;}
.csharp.source-csharp  {font-family:monospace;}
.csharp.source-csharp .imp {font-weight: bold; color: red;}
.csharp.source-csharp li, .csharp.source-csharp .li1 {font-weight: normal; vertical-align:top;}
.csharp.source-csharp .ln {width:1px;text-align:right;margin:0;padding:0 2px;vertical-align:top;}
.csharp.source-csharp .li2 {font-weight: bold; vertical-align:top;}
.csharp.source-csharp .kw1 {color: #0600FF; font-weight: bold;}
.csharp.source-csharp .kw2 {color: #FF8000; font-weight: bold;}
.csharp.source-csharp .kw3 {color: #008000;}
.csharp.source-csharp .kw4 {color: #6666cc; font-weight: bold;}
.csharp.source-csharp .kw5 {color: #000000;}
.csharp.source-csharp .co1 {color: #008080; font-style: italic;}
.csharp.source-csharp .co2 {color: #008080;}
.csharp.source-csharp .co3 {color: #008080;}
.csharp.source-csharp .coMULTI {color: #008080; font-style: italic;}
.csharp.source-csharp .es0 {color: #008080; font-weight: bold;}
.csharp.source-csharp .es_h {color: #008080; font-weight: bold;}
.csharp.source-csharp .br0 {color: #008000;}
.csharp.source-csharp .sy0 {color: #008000;}
.csharp.source-csharp .st0 {color: #666666;}
.csharp.source-csharp .st_h {color: #666666;}
.csharp.source-csharp .nu0 {color: #FF0000;}
.csharp.source-csharp .me1 {color: #0000FF;}
.csharp.source-csharp .me2 {color: #0000FF;}
.csharp.source-csharp .ln-xtra, .csharp.source-csharp li.ln-xtra, .csharp.source-csharp div.ln-xtra {background-color: #ffc;}
.csharp.source-csharp span.xtra { display:block; }

/*]]>*/
</style><!--[if lt IE 7]><style type="text/css">body{behavior:url("/skins/vector/csshover.min.htc")}</style><![endif]--></head>
<body class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-Particle_Spiral_Effect skin-vector action-view">
		<div id="mw-page-base" class="noprint"></div>
		<div id="mw-head-base" class="noprint"></div>
		<!-- content -->
		<div id="content" class="mw-body">
			<a id="top"></a>
			<div id="mw-js-message" style="display:none;"></div>
						<!-- firstHeading -->
			<h1 id="firstHeading" class="firstHeading">
				<span dir="auto">Particle Spiral Effect</span>
			</h1>
			<!-- /firstHeading -->
			<!-- bodyContent -->
			<div id="bodyContent">
								<!-- tagline -->
				<div id="siteSub">From Unify Community Wiki</div>
				<!-- /tagline -->
								<!-- subtitle -->
				<div id="contentSub"></div>
				<!-- /subtitle -->
																<!-- jumpto -->
				<div id="jump-to-nav" class="mw-jump">
					Jump to: <a href="#mw-head">navigation</a>,
					<a href="#p-search">search</a>
				</div>
				<!-- /jumpto -->
								<!-- bodycontent -->
				<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><p>Author: James Allen (Malveka)
</p><p><br />
</p>
<table id="toc" class="toc"><tr><td><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Description"><span class="tocnumber">1</span> <span class="toctext">Description</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#Features"><span class="tocnumber">1.1</span> <span class="toctext">Features</span></a></li>
<li class="toclevel-2 tocsection-3"><a href="#How_to_Use"><span class="tocnumber">1.2</span> <span class="toctext">How to Use</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="#Samples"><span class="tocnumber">1.3</span> <span class="toctext">Samples</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-5"><a href="#C.23_-_ParticleSpiralEffect.cs"><span class="tocnumber">2</span> <span class="toctext">C# - ParticleSpiralEffect.cs</span></a></li>
</ul>
</td></tr></table>
<h2> <span class="mw-headline" id="Description"> Description </span></h2>
<p>This script spawns "spiral" particle effects, such as might be used for portals, whirlpools, galaxies, etc.  The script can be adjusted to spawn any number of particle systems for repeating spiral effects. This can be useful, for example, when the particle effect is parented to a moving object.  
</p>
<h3> <span class="mw-headline" id="Features"> Features </span></h3>
<ul><li>Set the number of arms of the spiral and the particle density of each arm
</li><li>Create spirals in a plane or in three dimensions.
</li><li>Control the taper of the spiral arms
</li><li>Control fading of the spiral arms
</li><li>Autodestructs when the effect is complete
</li><li>Set a predetermined number of effect spawns at a specified rate
</li></ul>
<h3> <span class="mw-headline" id="How_to_Use"> How to Use </span></h3>
<ul><li>Assign this script to a transform or game object at the location where the spiral effect will be centered.  The spiral will be generated in the plane specified by the script transform's red axis (right, x) and blue axis (forward, z)and centered around the green axis (up, y).  
</li><li>Create a prefab that contains a particle system (emitter, animator, renderer).  Configure the prefab with your desired particle material, size and energy settings.  This script will override the Min/Max Emission settings based on your setting of numberOfArms and particlesPerArm.
</li><li>Drag the prefab to the Particle Effect field of this script in the Inspector.
</li></ul>
<p>More detailed descriptions of each setting are in the script itself.
</p>
<h3> <span class="mw-headline" id="Samples"> Samples </span></h3>
<p>Here are just a few of the many kinds of effects you can achieve.
</p><p><a href="/index.php/File:Spiral_collage.jpg" class="image" title="Sample Spirals"><img alt="Sample Spirals" src="/images/2/27/Spiral_collage.jpg" width="640" height="600" /></a>
</p><p><br />
</p>
<h2> <span class="mw-headline" id="C.23_-_ParticleSpiralEffect.cs"> C# - ParticleSpiralEffect.cs</span></h2>
<div dir="ltr" class="mw-geshi mw-content-ltr"><div class="csharp source-csharp"><pre class="de1"><span class="kw1">using</span> <span class="co3">UnityEngine</span><span class="sy0">;</span> 
<span class="kw1">using</span> <span class="co3">System.Collections</span><span class="sy0">;</span> 
&#160;
<span class="coMULTI">/* -----------------------------------------------------------------------------------------------------
	-- ParticleSpiralEffect --
&#160;
	This script spawns &quot;spiral&quot; particle effects, such as might be used for portals,
	whirlpools, galaxies, etc.  Note that the script can be adjusted to spawn any number of 
	particle systems for repeating spiral effects. Use this feature carefully so as not to 
	adversely impact framerate.  
&#160;
	Using the script:
&#160;
	- Assign this script to a transform or game object at the location where the spiral effect will
	be centered.  The spiral will be generated in the plane specified by the script transform's
	red axis (right, x) and blue axis (forward, z)  and centered around the green axis (up, y).  
&#160;
	- Create a prefab that contains a particle system (emitter, animator, renderer).  Configure the
	prefab with your desired particle material, size and energy settings.  This script will override
	the Min/Max Emission settings based on your setting of numberOfArms and particlesPerArm.
&#160;
	- Drag the prefab to the Particle Effect field of this script in the Inspector.
   ------------------------------------------------------------------------------------------------------ */</span>
&#160;
<span class="co1">// OPTIONAL: </span>
<span class="co1">// This structure mirrors the inspector settings for the effect and can be used in </span>
<span class="co1">// combination with the resetEffect and getSettings methods to alter the effect</span>
<span class="co1">// appearance programatically.  Use of this structure is optional.</span>
<span class="kw1">public</span> <span class="kw4">struct</span> SpiralSettings <span class="br0">&#123;</span>
	<span class="kw1">public</span> <span class="kw4">int</span> numArms<span class="sy0">;</span>  		<span class="co1">// number of spiral arms</span>
	<span class="kw1">public</span> <span class="kw4">int</span> numPPA<span class="sy0">;</span>  			<span class="co1">// number of particles per arm</span>
	<span class="kw1">public</span> <span class="kw4">float</span> partSep<span class="sy0">;</span>			<span class="co1">// separation between particles</span>
	<span class="kw1">public</span> <span class="kw4">float</span> turnDist<span class="sy0">;</span>		<span class="co1">// distance between spiral turns</span>
	<span class="kw1">public</span> <span class="kw4">float</span> vertDist<span class="sy0">;</span>			<span class="co1">// vertical turn distance</span>
	<span class="kw1">public</span> <span class="kw4">float</span> originOffset<span class="sy0">;</span>	<span class="co1">// size of hole in middle of spiral</span>
	<span class="kw1">public</span> <span class="kw4">float</span> turnSpeed<span class="sy0">;</span>		<span class="co1">// speed that spiral rotates.</span>
	<span class="kw1">public</span> <span class="kw4">float</span> fade<span class="sy0">;</span>				<span class="co1">// fade particles along the arms</span>
	<span class="kw1">public</span> <span class="kw4">float</span> size<span class="sy0">;</span>				<span class="co1">// change particle size along arms</span>
<span class="br0">&#125;</span>	
&#160;
<span class="kw1">public</span> <span class="kw4">class</span> ParticleSpiralEffect <span class="sy0">:</span> MonoBehaviour 
<span class="br0">&#123;</span> 
	<span class="co1">// -- particleEffect --</span>
	<span class="co1">// This must be set to reference the prefab that contains the particle system components.</span>
	<span class="co1">// Those components can be adjusted as usual to achieve the desired appearance of the </span>
	<span class="co1">// particles.  The parameters of the spiral effect itself are adjusted in the inspector using</span>
	<span class="co1">// public variables declared below.  Some of the spiral parameters override the particle</span>
	<span class="co1">// component values.  These are noted below.</span>
	<span class="co1">// Here are some recommendations for particle component settings to achieve desirable effects</span>
	<span class="co1">// in combination with this script:</span>
	<span class="co1">//	- Starting with default component settings</span>
	<span class="co1">//	- Particle emitter:</span>
	<span class="co1">//		Emit: OFF</span>
	<span class="co1">//		Simulate in Worldspace: OFF</span>
	<span class="co1">//		One Shot: ON</span>
	<span class="co1">//		Min/Max Emission: Overridden by script</span>
	<span class="co1">//	- Particle Renderer:</span>
	<span class="co1">//		Materials: Your favorite particle material 8^)</span>
	<span class="co1">//	- Particle Animator:</span>
	<span class="co1">//		Autodestruct: Overridden - ON (Prevents accumulation of used-up particle systems!)</span>
	<span class="kw1">public</span> Transform particleEffect<span class="sy0">;</span>
&#160;
	<span class="co1">// The number of arms for the spiral effect.  </span>
	<span class="kw1">public</span> <span class="kw4">int</span> numberOfArms <span class="sy0">=</span> <span class="nu0">1</span><span class="sy0">;</span>
&#160;
	<span class="co1">// The number of particles per spiral arm. </span>
	<span class="co1">// Total number of particles in effect = numberOfArms * numberParticlesPerArm  </span>
	<span class="kw1">public</span> <span class="kw4">int</span> particlesPerArm <span class="sy0">=</span> <span class="nu0">200</span><span class="sy0">;</span>
&#160;
	<span class="co1">// The separation between particles.</span>
	<span class="kw1">public</span> <span class="kw4">float</span> particleSeparation <span class="sy0">=</span> 0<span class="sy0">.</span>05f<span class="sy0">;</span>
&#160;
	<span class="co1">// The distance between the turns of the spiral.</span>
	<span class="kw1">public</span> <span class="kw4">float</span> turnDistance <span class="sy0">=</span> 0<span class="sy0">.</span>5f<span class="sy0">;</span>
&#160;
	<span class="co1">// The vertical distance between turns of the spiral.</span>
	<span class="co1">// Useful to create a 3D spiral like a whirlpool or a</span>
	<span class="co1">// ummm.... corkscrew. &#160;;^)</span>
	<span class="kw1">public</span> <span class="kw4">float</span> verticalTurnDistance <span class="sy0">=</span> <span class="nu0">0</span><span class="sy0">;</span>
&#160;
	<span class="co1">// Creates a &quot;hole&quot; in the center of the spiral.  </span>
	<span class="co1">//	0 =&gt; spiral arms meet at center point.</span>
	<span class="co1">//	&gt;0 =&gt; increase center hole size.</span>
	<span class="co1">// &lt;0 =&gt; arms will start before the center and cross there.</span>
	<span class="kw1">public</span> <span class="kw4">float</span> originOffset <span class="sy0">=</span> 0<span class="sy0">.</span>0f<span class="sy0">;</span>
&#160;
	<span class="co1">// Rotation speed for the effect.</span>
	<span class="co1">// Spiral rotation only works when &quot;Simulate in Worldspace&quot; is</span>
	<span class="co1">// turned off for the emitter.</span>
	<span class="kw1">public</span> <span class="kw4">float</span> turnSpeed <span class="sy0">=</span> <span class="nu0">0</span><span class="sy0">;</span>
&#160;
	<span class="co1">// Vary the particle lifetime along the spiral arms.  </span>
	<span class="co1">// A positive value will cause the particles to fade to the origin.</span>
	<span class="co1">// A negative value will cause the particles to fade to their tips.</span>
	<span class="co1">// CAUTION:  Use negative values carefully as they can cause</span>
	<span class="co1">// particle system accumulation depending on the Spawn Rate and</span>
	<span class="co1">// Min/Max Energy settings.</span>
	<span class="kw1">public</span> <span class="kw4">float</span> fadeValue <span class="sy0">=</span> <span class="nu0">0</span><span class="sy0">;</span>
&#160;
	<span class="co1">// Vary the particle size along the spiral arms.</span>
	<span class="co1">// A positive value will cause the particles to be larger at the origin, smaller at the tips.</span>
	<span class="co1">// A negative value will cause the particles to be smaller at the origin, larger at the tips.</span>
	<span class="kw1">public</span> <span class="kw4">float</span> sizeValue <span class="sy0">=</span> <span class="nu0">0</span><span class="sy0">;</span>
&#160;
	<span class="co1">// How many particle systems to spawn.  &quot;Infinite&quot; by default.</span>
	<span class="kw1">public</span> <span class="kw4">int</span> numberOfSpawns <span class="sy0">=</span> <span class="nu0">9999999</span><span class="sy0">;</span>
&#160;
	<span class="co1">// How often a new effect should be spawned.  In seconds.  This setting</span>
	<span class="co1">// works closely with the particle emitter Min/Max Energy settings to </span>
	<span class="co1">// achieve your desired effect.</span>
	<span class="kw1">public</span> <span class="kw4">float</span> spawnRate <span class="sy0">=</span> 5<span class="sy0">.</span>0f<span class="sy0">;</span>
&#160;
	<span class="co1">// These constants define the min and max values used for the randomizeEffect method.</span>
	<span class="kw1">public</span> <span class="kw1">const</span> <span class="kw4">int</span> Min_numArms <span class="sy0">=</span> <span class="nu0">1</span><span class="sy0">;</span>
	<span class="kw1">public</span> <span class="kw1">const</span> <span class="kw4">int</span> Max_numArms <span class="sy0">=</span> <span class="nu0">20</span><span class="sy0">;</span>
	<span class="kw1">public</span> <span class="kw1">const</span> <span class="kw4">int</span> Min_numPPA <span class="sy0">=</span> <span class="nu0">1</span><span class="sy0">;</span>
	<span class="kw1">public</span> <span class="kw1">const</span> <span class="kw4">int</span> Max_numPPA <span class="sy0">=</span> <span class="nu0">800</span><span class="sy0">;</span>
	<span class="kw1">public</span> <span class="kw1">const</span> <span class="kw4">float</span> Min_partSep <span class="sy0">=</span> <span class="sy0">-</span>1<span class="sy0">.</span>0f<span class="sy0">;</span>
	<span class="kw1">public</span> <span class="kw1">const</span> <span class="kw4">float</span> Max_partSep <span class="sy0">=</span> 1<span class="sy0">.</span>0f<span class="sy0">;</span>
	<span class="kw1">public</span> <span class="kw1">const</span> <span class="kw4">float</span> Min_turnDist <span class="sy0">=</span> <span class="sy0">-</span>1<span class="sy0">.</span>0f<span class="sy0">;</span>
	<span class="kw1">public</span> <span class="kw1">const</span> <span class="kw4">float</span> Max_turnDist <span class="sy0">=</span> 1<span class="sy0">.</span>0f<span class="sy0">;</span>
	<span class="kw1">public</span> <span class="kw1">const</span> <span class="kw4">float</span> Min_vertDist <span class="sy0">=</span> <span class="sy0">-</span>1<span class="sy0">.</span>0f<span class="sy0">;</span>
	<span class="kw1">public</span> <span class="kw1">const</span> <span class="kw4">float</span> Max_vertDist <span class="sy0">=</span> 1<span class="sy0">.</span>0f<span class="sy0">;</span>
	<span class="kw1">public</span> <span class="kw1">const</span> <span class="kw4">float</span> Min_originOffset <span class="sy0">=</span> <span class="sy0">-</span>10<span class="sy0">.</span>0f<span class="sy0">;</span>
	<span class="kw1">public</span> <span class="kw1">const</span> <span class="kw4">float</span> Max_originOffset <span class="sy0">=</span> 10<span class="sy0">.</span>0f<span class="sy0">;</span>
	<span class="kw1">public</span> <span class="kw1">const</span> <span class="kw4">float</span> Min_turnSpeed <span class="sy0">=</span> <span class="sy0">-</span>200<span class="sy0">.</span>0f<span class="sy0">;</span>
	<span class="kw1">public</span> <span class="kw1">const</span> <span class="kw4">float</span> Max_turnSpeed <span class="sy0">=</span> 200<span class="sy0">.</span>0f<span class="sy0">;</span>
	<span class="kw1">public</span> <span class="kw1">const</span> <span class="kw4">float</span> Min_fade <span class="sy0">=</span> 0<span class="sy0">.</span>0f<span class="sy0">;</span>
	<span class="kw1">public</span> <span class="kw1">const</span> <span class="kw4">float</span> Max_fade <span class="sy0">=</span> 1<span class="sy0">.</span>0f<span class="sy0">;</span>
	<span class="kw1">public</span> <span class="kw1">const</span> <span class="kw4">float</span> Min_size <span class="sy0">=</span> <span class="sy0">-</span>0<span class="sy0">.</span>1f<span class="sy0">;</span>
	<span class="kw1">public</span> <span class="kw1">const</span> <span class="kw4">float</span> Max_size <span class="sy0">=</span> 0<span class="sy0">.</span>1f<span class="sy0">;</span>
&#160;
&#160;
	<span class="coMULTI">/* ------------------------------------------------------------------------------------------------------*/</span>
&#160;
	<span class="co1">// Time at which the last spawn occurred.  Defaults to a &quot;smallish&quot; number</span>
	<span class="co1">// so the first effect appears more or less immediately.  </span>
	<span class="kw1">private</span> <span class="kw4">float</span> timeOfLastSpawn <span class="sy0">=</span> <span class="sy0">-</span>1000<span class="sy0">.</span>0f<span class="sy0">;</span>
&#160;
	<span class="co1">// Count of effects spawned so far.</span>
	<span class="kw1">private</span> <span class="kw4">int</span> spawnCount <span class="sy0">=</span> <span class="nu0">0</span><span class="sy0">;</span>
&#160;
	<span class="co1">// Total number of particles.</span>
	<span class="kw1">private</span> <span class="kw4">int</span> totParticles<span class="sy0">;</span>
&#160;
	<span class="co1">// The settings for the effect as set when the effect is first created,</span>
	<span class="co1">// i.e. the default settings.</span>
	<span class="kw1">private</span> SpiralSettings defaultSettings<span class="sy0">;</span>
&#160;
	<span class="kw1">public</span> <span class="kw4">void</span> Start<span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
		<span class="co1">// Record the current Inspector settings as the defaults.</span>
		defaultSettings <span class="sy0">=</span> getSettings<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
	<span class="br0">&#125;</span>
&#160;
	<span class="coMULTI">/* ------------------------------------------------------------------------------------------------------
		-- SpawnEffect --
&#160;
		This function spawns a new particle effect system each time it's called.  The system 
		spawned is the prefab referenced by the public particleEffect variable.
	   ------------------------------------------------------------------------------------------------------- */</span>
	<span class="kw4">void</span> SpawnEffect <span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
		<span class="co1">// Instantiate the effect prefab.</span>
		Transform effectObject <span class="sy0">=</span> Instantiate<span class="br0">&#40;</span>particleEffect, <span class="kw1">this</span><span class="sy0">.</span><span class="me1">transform</span><span class="sy0">.</span><span class="me1">position</span>, <span class="kw1">this</span><span class="sy0">.</span><span class="me1">transform</span><span class="sy0">.</span><span class="me1">rotation</span><span class="br0">&#41;</span> <span class="kw1">as</span> Transform<span class="sy0">;</span>
&#160;
		<span class="co1">// Parent the new effect to this script's transform.  </span>
		effectObject<span class="sy0">.</span><span class="me1">parent</span> <span class="sy0">=</span> <span class="kw1">this</span><span class="sy0">.</span><span class="me1">gameObject</span><span class="sy0">.</span><span class="me1">transform</span><span class="sy0">;</span>
&#160;
		<span class="co1">// Get the particle emitter from the new effect object.</span>
		ParticleEmitter emitter <span class="sy0">=</span> effectObject<span class="sy0">.</span><span class="me1">GetComponent</span><span class="sy0">&lt;</span>ParticleEmitter<span class="sy0">&gt;</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
&#160;
		<span class="co1">// Make sure autodestruct is on so that dead particles systems get destroyed.</span>
		ParticleAnimator animator <span class="sy0">=</span> emitter<span class="sy0">.</span><span class="me1">transform</span><span class="sy0">.</span><span class="me1">GetComponent</span><span class="sy0">&lt;</span>ParticleAnimator<span class="sy0">&gt;</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
		<span class="kw1">if</span> <span class="br0">&#40;</span>animator <span class="sy0">!=</span> <span class="kw1">null</span><span class="br0">&#41;</span>
			animator<span class="sy0">.</span><span class="me1">autodestruct</span> <span class="sy0">=</span> <span class="kw1">true</span><span class="sy0">;</span>
&#160;
		<span class="co1">// Generate the particles.</span>
		emitter<span class="sy0">.</span><span class="me1">Emit</span><span class="br0">&#40;</span>numberOfArms <span class="sy0">*</span> particlesPerArm<span class="br0">&#41;</span><span class="sy0">;</span>
&#160;
		<span class="co1">// Extract the particles from the created emitter. </span>
		Particle<span class="br0">&#91;</span><span class="br0">&#93;</span> p <span class="sy0">=</span> emitter<span class="sy0">.</span><span class="me1">particles</span><span class="sy0">;</span> 
&#160;
		<span class="co1">// The rotation angle, in radians, between the arms of the spiral.</span>
		<span class="kw4">float</span> armSpacing <span class="sy0">=</span> <span class="br0">&#40;</span><span class="nu0">2</span> <span class="sy0">*</span> Mathf<span class="sy0">.</span><span class="me1">PI</span><span class="br0">&#41;</span> <span class="sy0">/</span> numberOfArms<span class="sy0">;</span>
&#160;
		<span class="co1">// Loop thru the arms...</span>
		<span class="kw1">for</span> <span class="br0">&#40;</span><span class="kw4">int</span> j<span class="sy0">=</span><span class="nu0">0</span><span class="sy0">;</span> j<span class="sy0">&lt;</span>numberOfArms<span class="sy0">;</span> j<span class="sy0">++</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
&#160;
				<span class="kw4">float</span> r <span class="sy0">=</span> <span class="nu0">0</span><span class="sy0">;</span>
				<span class="kw4">float</span> theta <span class="sy0">=</span> <span class="nu0">0</span><span class="sy0">;</span>
				<span class="kw4">float</span> armRotation <span class="sy0">=</span> j<span class="sy0">*</span>armSpacing<span class="sy0">;</span>
&#160;
			<span class="co1">// Loop thru the particles for this arm and place them.</span>
			<span class="kw1">for</span> <span class="br0">&#40;</span><span class="kw4">int</span> i <span class="sy0">=</span> <span class="nu0">0</span><span class="sy0">;</span>  i <span class="sy0">&lt;</span> particlesPerArm<span class="sy0">;</span>  i<span class="sy0">++</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
&#160;
				<span class="co1">// This particle's index.</span>
				<span class="kw4">int</span> pX <span class="sy0">=</span> j <span class="sy0">*</span> particlesPerArm <span class="sy0">+</span> i<span class="sy0">;</span>
&#160;
				<span class="co1">// This is the equation for our spiral in polar coords....</span>
				r <span class="sy0">=</span> originOffset <span class="sy0">+</span> turnDistance <span class="sy0">*</span> theta<span class="sy0">;</span>
&#160;
				<span class="co1">// All particles are positioned wrt the local transform origin.</span>
				Vector3 newPos <span class="sy0">=</span> effectObject<span class="sy0">.</span><span class="me1">localPosition</span><span class="sy0">;</span>
				<span class="co1">//Vector3 newPos = effectObject.position;</span>
&#160;
				<span class="co1">// Convert to Cartesian coords...</span>
				newPos<span class="sy0">.</span><span class="me1">x</span> <span class="sy0">=</span> newPos<span class="sy0">.</span><span class="me1">x</span> <span class="sy0">+</span> r <span class="sy0">*</span> Mathf<span class="sy0">.</span><span class="me1">Cos</span><span class="br0">&#40;</span>theta<span class="br0">&#41;</span><span class="sy0">;</span>
				newPos<span class="sy0">.</span><span class="me1">z</span> <span class="sy0">=</span> newPos<span class="sy0">.</span><span class="me1">z</span> <span class="sy0">+</span> r <span class="sy0">*</span> Mathf<span class="sy0">.</span><span class="me1">Sin</span><span class="br0">&#40;</span>theta<span class="br0">&#41;</span><span class="sy0">;</span>
&#160;
				<span class="co1">// Rotate the particle about the origin to our desired position for this arm.</span>
				<span class="kw4">float</span> x <span class="sy0">=</span> newPos<span class="sy0">.</span><span class="me1">x</span> <span class="sy0">*</span> Mathf<span class="sy0">.</span><span class="me1">Cos</span><span class="br0">&#40;</span>armRotation<span class="br0">&#41;</span> <span class="sy0">+</span> newPos<span class="sy0">.</span><span class="me1">z</span> <span class="sy0">*</span> Mathf<span class="sy0">.</span><span class="me1">Sin</span><span class="br0">&#40;</span>armRotation<span class="br0">&#41;</span><span class="sy0">;</span>
				<span class="kw4">float</span> z <span class="sy0">=</span> <span class="sy0">-</span>newPos<span class="sy0">.</span><span class="me1">x</span> <span class="sy0">*</span> Mathf<span class="sy0">.</span><span class="me1">Sin</span><span class="br0">&#40;</span>armRotation<span class="br0">&#41;</span> <span class="sy0">+</span> newPos<span class="sy0">.</span><span class="me1">z</span> <span class="sy0">*</span> Mathf<span class="sy0">.</span><span class="me1">Cos</span><span class="br0">&#40;</span>armRotation<span class="br0">&#41;</span><span class="sy0">;</span>
				newPos<span class="sy0">.</span><span class="me1">x</span> <span class="sy0">=</span> x<span class="sy0">;</span>
				newPos<span class="sy0">.</span><span class="me1">z</span> <span class="sy0">=</span> z<span class="sy0">;</span>
&#160;
				<span class="co1">// Introduce the desired vertical offset.</span>
				newPos<span class="sy0">.</span><span class="me1">y</span> <span class="sy0">=</span> newPos<span class="sy0">.</span><span class="me1">y</span> <span class="sy0">+</span> i <span class="sy0">*</span> verticalTurnDistance<span class="sy0">;</span>
&#160;
				<span class="co1">// Update the particle position.</span>
				<span class="kw1">if</span> <span class="br0">&#40;</span>emitter<span class="sy0">.</span><span class="me1">useWorldSpace</span><span class="br0">&#41;</span>
					newPos <span class="sy0">=</span> transform<span class="sy0">.</span><span class="me1">TransformPoint</span><span class="br0">&#40;</span>newPos<span class="br0">&#41;</span><span class="sy0">;</span>
				p<span class="br0">&#91;</span>pX<span class="br0">&#93;</span><span class="sy0">.</span><span class="me1">position</span> <span class="sy0">=</span> newPos<span class="sy0">;</span>
&#160;
				<span class="co1">// Bump to our next point on the curve.</span>
				theta <span class="sy0">+=</span> particleSeparation<span class="sy0">;</span>
&#160;
				<span class="co1">// Set particle lifetime to account for specified fade.</span>
				p<span class="br0">&#91;</span>pX<span class="br0">&#93;</span><span class="sy0">.</span><span class="me1">energy</span> <span class="sy0">=</span> p<span class="br0">&#91;</span>pX<span class="br0">&#93;</span><span class="sy0">.</span><span class="me1">energy</span> <span class="sy0">-</span> i <span class="sy0">*</span> fadeValue<span class="sy0">;</span>
&#160;
				<span class="co1">// Set particle size to account for specified variation.</span>
				p<span class="br0">&#91;</span>pX<span class="br0">&#93;</span><span class="sy0">.</span><span class="me1">size</span> <span class="sy0">=</span> p<span class="br0">&#91;</span>pX<span class="br0">&#93;</span><span class="sy0">.</span><span class="me1">size</span> <span class="sy0">-</span> i <span class="sy0">*</span> sizeValue<span class="sy0">;</span>
&#160;
			<span class="br0">&#125;</span>		
		<span class="br0">&#125;</span>
		<span class="co1">// Update the actual particles.</span>
		emitter<span class="sy0">.</span><span class="me1">particles</span> <span class="sy0">=</span> p<span class="sy0">;</span>
	<span class="br0">&#125;</span>
&#160;
	<span class="kw4">void</span> Update<span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
		<span class="co1">// Spin the entire particle effect.</span>
		<span class="kw1">this</span><span class="sy0">.</span><span class="me1">transform</span><span class="sy0">.</span><span class="me1">Rotate</span><span class="br0">&#40;</span><span class="kw1">this</span><span class="sy0">.</span><span class="me1">transform</span><span class="sy0">.</span><span class="me1">up</span> <span class="sy0">*</span> Time<span class="sy0">.</span><span class="me1">deltaTime</span> <span class="sy0">*</span> <span class="br0">&#40;</span><span class="sy0">-</span>turnSpeed<span class="br0">&#41;</span>, Space<span class="sy0">.</span><span class="me1">World</span><span class="br0">&#41;</span><span class="sy0">;</span>
	<span class="br0">&#125;</span>
&#160;
&#160;
	<span class="kw4">void</span> LateUpdate<span class="br0">&#40;</span><span class="br0">&#41;</span> 
	<span class="br0">&#123;</span>
		<span class="co1">// Check to see if it's time to spawn a new particle system.</span>
		<span class="kw4">float</span> timeSinceLastSpawn <span class="sy0">=</span> Time<span class="sy0">.</span><span class="me1">time</span> <span class="sy0">-</span> timeOfLastSpawn<span class="sy0">;</span>
		<span class="kw1">if</span> <span class="br0">&#40;</span>timeSinceLastSpawn <span class="sy0">&gt;=</span> spawnRate <span class="sy0">&amp;&amp;</span> spawnCount <span class="sy0">&lt;</span> numberOfSpawns<span class="br0">&#41;</span> <span class="br0">&#123;</span>
			SpawnEffect<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
			timeOfLastSpawn <span class="sy0">=</span> Time<span class="sy0">.</span><span class="me1">time</span><span class="sy0">;</span>
			spawnCount<span class="sy0">++;</span>
		<span class="br0">&#125;</span>
	<span class="br0">&#125;</span>
&#160;
	<span class="co1">// Return the current settings for the effect.</span>
	<span class="kw1">public</span> SpiralSettings getSettings<span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
&#160;
		SpiralSettings result<span class="sy0">;</span>
&#160;
		result<span class="sy0">.</span><span class="me1">numArms</span> <span class="sy0">=</span> numberOfArms<span class="sy0">;</span>
		result<span class="sy0">.</span><span class="me1">numPPA</span> <span class="sy0">=</span> particlesPerArm<span class="sy0">;</span>
		result<span class="sy0">.</span><span class="me1">partSep</span> <span class="sy0">=</span> particleSeparation<span class="sy0">;</span>
		result<span class="sy0">.</span><span class="me1">turnDist</span> <span class="sy0">=</span> turnDistance<span class="sy0">;</span>
		result<span class="sy0">.</span><span class="me1">vertDist</span> <span class="sy0">=</span> verticalTurnDistance<span class="sy0">;</span>
		result<span class="sy0">.</span><span class="me1">originOffset</span> <span class="sy0">=</span> originOffset<span class="sy0">;</span>
		result<span class="sy0">.</span><span class="me1">turnSpeed</span> <span class="sy0">=</span> turnSpeed<span class="sy0">;</span>
		result<span class="sy0">.</span><span class="me1">fade</span> <span class="sy0">=</span> fadeValue<span class="sy0">;</span>
		result<span class="sy0">.</span><span class="me1">size</span> <span class="sy0">=</span> sizeValue<span class="sy0">;</span>
&#160;
		<span class="kw1">return</span> result<span class="sy0">;</span>
	<span class="br0">&#125;</span>
&#160;
	<span class="co1">// Reset the effect to use the specified settings.</span>
	<span class="co1">// Except for the killCurrent option, this will only effect the</span>
	<span class="co1">// appearance of future spawns.</span>
	<span class="kw1">public</span> SpiralSettings resetEffect<span class="br0">&#40;</span><span class="kw4">bool</span> killCurrent, SpiralSettings settings<span class="br0">&#41;</span> <span class="br0">&#123;</span>
&#160;
		<span class="co1">// If requested, destroy all current spawns of this effect.</span>
		<span class="kw1">if</span> <span class="br0">&#40;</span>killCurrent<span class="br0">&#41;</span> <span class="br0">&#123;</span>
			killCurrentEffects<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
		<span class="br0">&#125;</span>
&#160;
		<span class="co1">// Assign the new settings and then spawn a new effect with these settings.</span>
		numberOfArms <span class="sy0">=</span> settings<span class="sy0">.</span><span class="me1">numArms</span><span class="sy0">;</span>  		
		particlesPerArm <span class="sy0">=</span> settings<span class="sy0">.</span><span class="me1">numPPA</span><span class="sy0">;</span>  		
		particleSeparation <span class="sy0">=</span> settings<span class="sy0">.</span><span class="me1">partSep</span><span class="sy0">;</span>		
		turnDistance <span class="sy0">=</span> settings<span class="sy0">.</span><span class="me1">turnDist</span><span class="sy0">;</span>		
		verticalTurnDistance <span class="sy0">=</span> settings<span class="sy0">.</span><span class="me1">vertDist</span><span class="sy0">;</span>		
		originOffset <span class="sy0">=</span> settings<span class="sy0">.</span><span class="me1">originOffset</span><span class="sy0">;</span>	
		turnSpeed <span class="sy0">=</span> settings<span class="sy0">.</span><span class="me1">turnSpeed</span><span class="sy0">;</span>	
		fadeValue <span class="sy0">=</span> settings<span class="sy0">.</span><span class="me1">fade</span><span class="sy0">;</span>			
		sizeValue <span class="sy0">=</span> settings<span class="sy0">.</span><span class="me1">size</span><span class="sy0">;</span>				
&#160;
		SpawnEffect<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
		timeOfLastSpawn <span class="sy0">=</span> Time<span class="sy0">.</span><span class="me1">time</span><span class="sy0">;</span>
		spawnCount<span class="sy0">++;</span>
&#160;
		<span class="kw1">return</span> getSettings<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
	<span class="br0">&#125;</span>
&#160;
	<span class="co1">// Reset the particle effect to its Inspector established defaults.</span>
	<span class="kw1">public</span> SpiralSettings resetEffectToDefaults<span class="br0">&#40;</span><span class="kw4">bool</span> killCurrent<span class="br0">&#41;</span> <span class="br0">&#123;</span>
&#160;
		<span class="kw1">return</span> resetEffect<span class="br0">&#40;</span>killCurrent, defaultSettings<span class="br0">&#41;</span><span class="sy0">;</span>
	<span class="br0">&#125;</span>
&#160;
	<span class="co1">// Randomize the settings and return the new values.</span>
	<span class="kw1">public</span> SpiralSettings randomizeEffect<span class="br0">&#40;</span><span class="kw4">bool</span> killCurrent<span class="br0">&#41;</span> <span class="br0">&#123;</span>
&#160;
		<span class="co1">// If requested, destroy all current spawns of this effect.</span>
		<span class="kw1">if</span> <span class="br0">&#40;</span>killCurrent<span class="br0">&#41;</span> <span class="br0">&#123;</span>
			killCurrentEffects<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
		<span class="br0">&#125;</span>
&#160;
		<span class="co1">// Assign the new random settings and then spawn a new effect with these settings.</span>
		numberOfArms <span class="sy0">=</span> Random<span class="sy0">.</span><span class="me1">Range</span><span class="br0">&#40;</span>Min_numArms, Max_numArms<span class="sy0">+</span><span class="nu0">1</span><span class="br0">&#41;</span><span class="sy0">;</span>  		
		particlesPerArm <span class="sy0">=</span>   Random<span class="sy0">.</span><span class="me1">Range</span><span class="br0">&#40;</span>Min_numPPA, Max_numPPA<span class="sy0">+</span><span class="nu0">1</span><span class="br0">&#41;</span><span class="sy0">;</span> 
		particleSeparation <span class="sy0">=</span>  Random<span class="sy0">.</span><span class="me1">Range</span><span class="br0">&#40;</span>Min_partSep, Max_partSep<span class="br0">&#41;</span><span class="sy0">;</span> 		
		turnDistance <span class="sy0">=</span> Random<span class="sy0">.</span><span class="me1">Range</span><span class="br0">&#40;</span>Min_turnDist, Max_turnDist<span class="br0">&#41;</span><span class="sy0">;</span> 
		verticalTurnDistance <span class="sy0">=</span> Random<span class="sy0">.</span><span class="me1">Range</span><span class="br0">&#40;</span>Min_vertDist, Max_vertDist<span class="br0">&#41;</span><span class="sy0">;</span>
		originOffset <span class="sy0">=</span> Random<span class="sy0">.</span><span class="me1">Range</span><span class="br0">&#40;</span>Min_originOffset, Max_originOffset<span class="br0">&#41;</span><span class="sy0">;</span>
		turnSpeed <span class="sy0">=</span> Random<span class="sy0">.</span><span class="me1">Range</span><span class="br0">&#40;</span>Min_turnSpeed, Max_turnSpeed<span class="br0">&#41;</span><span class="sy0">;</span>	
		fadeValue <span class="sy0">=</span> Random<span class="sy0">.</span><span class="me1">Range</span><span class="br0">&#40;</span>Min_fade, Max_fade<span class="br0">&#41;</span><span class="sy0">;</span>			
		sizeValue <span class="sy0">=</span> Random<span class="sy0">.</span><span class="me1">Range</span><span class="br0">&#40;</span>Min_size, Max_size<span class="br0">&#41;</span><span class="sy0">;</span>
&#160;
		SpawnEffect<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
		timeOfLastSpawn <span class="sy0">=</span> Time<span class="sy0">.</span><span class="me1">time</span><span class="sy0">;</span>
		spawnCount<span class="sy0">++;</span>
&#160;
		<span class="kw1">return</span> getSettings<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
	<span class="br0">&#125;</span>
&#160;
	<span class="co1">// Kill all current spawns of the effect.</span>
	<span class="kw1">private</span> <span class="kw4">void</span> killCurrentEffects<span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
&#160;
		<span class="co1">// Loop thru the particle emitter children of this object.  Each one is a particle effect system</span>
		<span class="co1">// we want to destroy.</span>
		ParticleEmitter<span class="br0">&#91;</span><span class="br0">&#93;</span> emitters <span class="sy0">=</span> <span class="kw1">this</span><span class="sy0">.</span><span class="me1">transform</span><span class="sy0">.</span><span class="me1">GetComponentsInChildren</span><span class="sy0">&lt;</span>ParticleEmitter<span class="sy0">&gt;</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
		<span class="kw1">foreach</span> <span class="br0">&#40;</span>ParticleEmitter emitter <span class="kw1">in</span> emitters<span class="br0">&#41;</span> <span class="br0">&#123;</span>
			Debug<span class="sy0">.</span><span class="me1">Log</span><span class="br0">&#40;</span><span class="st0">&quot;resetEffect killing: &quot;</span> <span class="sy0">+</span> emitter<span class="sy0">.</span><span class="me1">name</span><span class="br0">&#41;</span><span class="sy0">;</span>
			<span class="co1">// Make sure autodestruct is on.</span>
			ParticleAnimator animator <span class="sy0">=</span> emitter<span class="sy0">.</span><span class="me1">transform</span><span class="sy0">.</span><span class="me1">GetComponent</span><span class="sy0">&lt;</span>ParticleAnimator<span class="sy0">&gt;</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
			<span class="kw1">if</span> <span class="br0">&#40;</span>animator <span class="sy0">!=</span> <span class="kw1">null</span><span class="br0">&#41;</span>
				animator<span class="sy0">.</span><span class="me1">autodestruct</span> <span class="sy0">=</span> <span class="kw1">true</span><span class="sy0">;</span>
			<span class="co1">// Now loop thru the particles and set their energies to a small number.  The effect will</span>
			<span class="co1">// subsequently autodestruct.  I originally tried setting the energy to zero, but in that</span>
			<span class="co1">// case they did *not* autodestruct.</span>
			<span class="co1">// I originally tried simply doing a Destroy on the emitter, but got threatening runtime messages.</span>
			Particle<span class="br0">&#91;</span><span class="br0">&#93;</span> p  <span class="sy0">=</span> emitter<span class="sy0">.</span><span class="me1">particles</span><span class="sy0">;</span>
			<span class="kw1">for</span> <span class="br0">&#40;</span><span class="kw4">int</span> i<span class="sy0">=</span><span class="nu0">0</span><span class="sy0">;</span> i <span class="sy0">&lt;</span> p<span class="sy0">.</span><span class="me1">Length</span><span class="sy0">;</span>  i<span class="sy0">++</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
				p<span class="br0">&#91;</span>i<span class="br0">&#93;</span><span class="sy0">.</span><span class="me1">energy</span> <span class="sy0">=</span> 0<span class="sy0">.</span>1f<span class="sy0">;</span>
			<span class="br0">&#125;</span>
			emitter<span class="sy0">.</span><span class="me1">particles</span> <span class="sy0">=</span> p<span class="sy0">;</span>
		<span class="br0">&#125;</span>
	<span class="br0">&#125;</span>
<span class="br0">&#125;</span></pre></div></div>

<!-- 
NewPP limit report
Preprocessor node count: 22/1000000
Post-expand include size: 0/2097152 bytes
Template argument size: 0/2097152 bytes
Expensive parser function count: 0/100
-->

<!-- Saved in parser cache with key mediawiki:pcache:idhash:2566-0!*!*!!en!2!* and timestamp 20121024153925 -->
</div>				<!-- /bodycontent -->
								<!-- printfooter -->
				<div class="printfooter">
				Retrieved from "<a href="http://wiki.unity3d.com/index.php?title=Particle_Spiral_Effect&amp;oldid=13044">http://wiki.unity3d.com/index.php?title=Particle_Spiral_Effect&amp;oldid=13044</a>"				</div>
				<!-- /printfooter -->
												<!-- catlinks -->
				<div id='catlinks' class='catlinks catlinks-allhidden'></div>				<!-- /catlinks -->
												<div class="visualClear"></div>
				<!-- debughtml -->
								<!-- /debughtml -->
			</div>
			<!-- /bodyContent -->
		</div>
		<!-- /content -->
		<!-- header -->
		<div id="mw-head" class="noprint">
			
<!-- 0 -->
<div id="p-personal" class="">
	<h5>Personal tools</h5>
	<ul>
		<li id="pt-login"><a href="/index.php?title=Special:UserLogin&amp;returnto=Particle+Spiral+Effect" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in / create account</a></li>
	</ul>
</div>

<!-- /0 -->
			<div id="left-navigation">
				
<!-- 0 -->
<div id="p-namespaces" class="vectorTabs">
	<h5>Namespaces</h5>
	<ul>
					<li  id="ca-nstab-main" class="selected"><span><a href="/index.php/Particle_Spiral_Effect"  title="View the content page [c]" accesskey="c">Page</a></span></li>
					<li  id="ca-talk"><span><a href="/index.php/Talk:Particle_Spiral_Effect"  title="Discussion about the content page [t]" accesskey="t">Discussion</a></span></li>
			</ul>
</div>

<!-- /0 -->

<!-- 1 -->
<div id="p-variants" class="vectorMenu emptyPortlet">
	<h4>
		</h4>
	<h5><span>Variants</span><a href="#"></a></h5>
	<div class="menu">
		<ul>
					</ul>
	</div>
</div>

<!-- /1 -->
			</div>
			<div id="right-navigation">
				
<!-- 0 -->
<div id="p-views" class="vectorTabs">
	<h5>Views</h5>
	<ul>
					<li id="ca-view" class="selected"><span><a href="/index.php/Particle_Spiral_Effect" >Read</a></span></li>
					<li id="ca-viewsource"><span><a href="/index.php?title=Particle_Spiral_Effect&amp;action=edit"  title="This page is protected.&#10;You can view its source [e]" accesskey="e">View source</a></span></li>
					<li id="ca-history" class="collapsible"><span><a href="/index.php?title=Particle_Spiral_Effect&amp;action=history"  title="Past revisions of this page [h]" accesskey="h">View history</a></span></li>
			</ul>
</div>

<!-- /0 -->

<!-- 1 -->
<div id="p-cactions" class="vectorMenu emptyPortlet">
	<h5><span>Actions</span><a href="#"></a></h5>
	<div class="menu">
		<ul>
					</ul>
	</div>
</div>

<!-- /1 -->

<!-- 2 -->
<div id="p-search">
	<h5><label for="searchInput">Search</label></h5>
	<form action="/index.php" id="searchform">
				<div>
			<input type="search" name="search" title="Search Unify Community Wiki [f]" accesskey="f" id="searchInput" />			<input type="submit" name="go" value="Go" title="Go to a page with this exact name if exists" id="searchGoButton" class="searchButton" />			<input type="submit" name="fulltext" value="Search" title="Search the pages for this text" id="mw-searchButton" class="searchButton" />					<input type='hidden' name="title" value="Special:Search"/>
		</div>
	</form>
</div>

<!-- /2 -->
			</div>
		</div>
		<!-- /header -->
		<!-- panel -->
			<div id="mw-panel" class="noprint">
				<!-- logo -->
					<div id="p-logo"><a style="background-image: url(/images/wiki.png);" href="/index.php/Main_Page"  title="Visit the main page"></a></div>
				<!-- /logo -->
				
<!-- Navigation -->
<div class="portal" id='p-Navigation'>
	<h5>Navigation</h5>
	<div class="body">
		<ul>
			<li id="n-mainpage"><a href="/index.php/Main_Page" title="Visit the main page [z]" accesskey="z">Main Page</a></li>
			<li id="n-Extensions"><a href="/index.php/Extensions">Extensions</a></li>
			<li id="n-Particle-Library"><a href="/index.php/Particle_Library">Particle Library</a></li>
			<li id="n-Programming"><a href="/index.php/Programming">Programming</a></li>
			<li id="n-Scripts"><a href="/index.php/Scripts">Scripts</a></li>
			<li id="n-Shaders"><a href="/index.php/Shaders">Shaders</a></li>
			<li id="n-Wizards"><a href="/index.php/Wizards">Wizards</a></li>
		</ul>
	</div>
</div>

<!-- /Navigation -->

<!-- Extras -->
<div class="portal" id='p-Extras'>
	<h5>Extras</h5>
	<div class="body">
		<ul>
			<li id="n-Tips.2C-Tricks.2C-Tools"><a href="/index.php/Tips">Tips, Tricks, Tools</a></li>
			<li id="n-Tutorials"><a href="/index.php/Tutorials">Tutorials</a></li>
			<li id="n-Unity-Projects"><a href="/index.php/Unity_Projects">Unity Projects</a></li>
			<li id="n-Contests"><a href="/index.php/Contests">Contests</a></li>
			<li id="n-IRC-Chatroom"><a href="/index.php/IRC">IRC Chatroom</a></li>
		</ul>
	</div>
</div>

<!-- /Extras -->

<!-- Quick Links -->
<div class="portal" id='p-Quick_Links'>
	<h5>Quick Links</h5>
	<div class="body">
		<ul>
			<li id="n-portal"><a href="/index.php/Unify:Community_portal" title="About the project, what you can do, where to find things">Community portal</a></li>
			<li id="n-recentchanges"><a href="/index.php/Special:RecentChanges" title="A list of recent changes in the wiki [r]" accesskey="r">Recent changes</a></li>
			<li id="n-New-Pages"><a href="/index.php/Special:NewPages">New Pages</a></li>
			<li id="n-help"><a href="/index.php/Help:Contents" title="The place to find out">Help</a></li>
		</ul>
	</div>
</div>

<!-- /Quick Links -->

<!-- SEARCH -->

<!-- /SEARCH -->

<!-- TOOLBOX -->
<div class="portal" id='p-tb'>
	<h5>Toolbox</h5>
	<div class="body">
		<ul>
			<li id="t-whatlinkshere"><a href="/index.php/Special:WhatLinksHere/Particle_Spiral_Effect" title="A list of all wiki pages that link here [j]" accesskey="j">What links here</a></li>
			<li id="t-recentchangeslinked"><a href="/index.php/Special:RecentChangesLinked/Particle_Spiral_Effect" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li>
			<li id="t-specialpages"><a href="/index.php/Special:SpecialPages" title="A list of all special pages [q]" accesskey="q">Special pages</a></li>
			<li><a href="/index.php?title=Particle_Spiral_Effect&amp;printable=yes" rel="alternate">Printable version</a></li>
			<li id="t-permalink"><a href="/index.php?title=Particle_Spiral_Effect&amp;oldid=13044" title="Permanent link to this revision of the page">Permanent link</a></li>
		</ul>
	</div>
</div>

<!-- /TOOLBOX -->

<!-- LANGUAGES -->

<!-- /LANGUAGES -->
			</div>
		<!-- /panel -->
		<!-- footer -->
		<div id="footer">
							<ul id="footer-info">
											<li id="footer-info-lastmod"> This page was last modified on 10 January 2012, at 22:45.</li>
											<li id="footer-info-viewcount">This page has been accessed 12,628 times.</li>
											<li id="footer-info-copyright">Content is available under <a class="external" href="http://creativecommons.org/licenses/by-sa/3.0/">Creative Commons Attribution Share Alike</a>.</li>
									</ul>
							<ul id="footer-places">
											<li id="footer-places-privacy"><a href="/index.php/Unify:Privacy_policy" title="Unify:Privacy policy">Privacy policy</a></li>
											<li id="footer-places-about"><a href="/index.php/Unify:About" title="Unify:About">About Unify Community Wiki</a></li>
											<li id="footer-places-disclaimer"><a href="/index.php/Unify:General_disclaimer" title="Unify:General disclaimer">Disclaimers</a></li>
									</ul>
										<ul id="footer-icons" class="noprint">
					<li id="footer-copyrightico">
						<a href="http://creativecommons.org/licenses/by-sa/3.0/"><img src="/skins/common/images/cc-by-sa.png" alt="Creative Commons Attribution Share Alike" width="88" height="31" /></a>
					</li>
					<li id="footer-poweredbyico">
						<a href="//www.mediawiki.org/"><img src="/skins/common/images/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" width="88" height="31" /></a>
					</li>
				</ul>
						<div style="clear:both"></div>
		</div>
		<!-- /footer -->
		<script src="http://wiki.unity3d.com/load.php?debug=false&amp;lang=en&amp;modules=skins.vector&amp;only=scripts&amp;skin=vector&amp;*"></script>
<script>if(window.mw){
mw.loader.load(["mediawiki.user","mediawiki.page.ready"], null, true);
}</script>
<script src="http://wiki.unity3d.com/load.php?debug=false&amp;lang=en&amp;modules=site&amp;only=scripts&amp;skin=vector&amp;*"></script>
<!-- Served in 0.157 secs. -->
	</body>
</html>
